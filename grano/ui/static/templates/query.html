<style>
  .loading-bay {
    position: relative;
    width: 100%;
    z-index: 1000;
  }

  .loading-bay .alert {
    position: absolute;
    width: 100%;
  }

  #graph svg {
      height: 20em;
      width: 100%;
  }

  #graph path.link {
    fill: none;
    stroke: #ccc;
    stroke-width: 3px;
  }

  #graph circle {
    fill: #ccc;
    stroke: #f3f3f3;
    cursor: pointer;
    stroke-width: 1px;
  }

  #graph text {
    fill: #000;
    font: 12px 'Open Sans', sans-serif;
    font-weight: bold;
    pointer-events: none;
  }

  .graph-area {
    position: relative;
  }

  .floating {
    right: 0em;
    position: absolute;
  }

</style>

<div class="">
  <div class="pull-right">
    <button type="button" class="btn btn-default"
        ng-class="{'active': showPanel}" ng-click="showPanel = !showPanel"><i class="fa fa-filter"></i> Show filters</button>
    <div class="btn-group">
      <button type="button" class="btn btn-default"
        ng-class="{'active': mode == 'graph'}" ng-click="setMode('graph')"><i class="fa fa-sitemap"></i> Network diagram</button>
      <button type="button" class="btn btn-default"
        ng-class="{'active': mode == 'table'}" ng-click="setMode('table')"><i class="fa fa-th"></i> Table</button>
    </div>
  </div>
  <h1 class="unboxed">Motherfucking Query Tool</h1>
</div>

<div class="loading-bay">
  <div class="alert alert-warning" role="alert"
    ng-show="loading">
    <strong>Loading data from the server...</strong>
  </div>
</div>

<div class="row" ng-show="mode == 'graph'">
  <div class="col-sm-12 graph-area">
    <div class="floating col-md-4" ng-show="showPanel">
      <gn-query-panel project="project"></gn-query-panel>
    </div>
    <div gn-query-graph id="graph" project="project"></div>
  </div>
</div>

<div class="row" ng-show="mode == 'table'">
  <div ng-class="{'col-md-8': showPanel, 'col-md-12': !showPanel}">
    <div class="box">
      <gn-query-table project="project"></gn-query-table>
    </div>
  </div>
  <div ng-show="showPanel" class="col-md-4" style="overflow-z: scroll">
    <gn-query-panel project="project"></gn-query-panel>
  </div>
</div>
